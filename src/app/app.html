<a class="skip-link" href="#maincontent">Skip to main content</a>
<header class="app-header" role="banner">
	<div class="brand">
		<div class="logo" aria-hidden="true">BJ</div>
		<div class="title">
			<h1>Blackjack Trainer</h1>
			<small class="variant" aria-live="polite">Learning Mode</small>
		</div>
	</div>
	<nav class="top-nav" aria-label="Primary">
		<a routerLink="/chart" routerLinkActive="active">Chart</a>
		<a routerLink="/drill" routerLinkActive="active">Drill</a>
		<a routerLink="/flashcards" routerLinkActive="active">Flashcards</a>
		<a routerLink="/analytics" routerLinkActive="active">Analytics</a>
		<a routerLink="/settings" routerLinkActive="active">Settings</a>
		<button type="button" class="shortcuts-btn" (click)="openShortcutHelp()" aria-haspopup="dialog" [attr.aria-expanded]="helpOpen()" aria-controls="shortcut-help-dialog">?</button>
	</nav>
	<div class="header-actions"></div>
</header>
<div class="layout">
	<main class="main-view" id="maincontent" role="main">
		<div class="shortcuts" *ngIf="showShortcuts()" aria-label="Keyboard shortcuts">
			<strong>Shortcuts:</strong> H S D P R
		</div>
		<router-outlet />
		<app-shortcut-help-dialog *ngIf="helpOpen()" (closed)="closeShortcutHelp()"></app-shortcut-help-dialog>
	</main>
</div>
<!-- Removed high-contrast toggle & announcements -->
<style>
	:root {
		--ui-bg: #0d1319;
		--ui-bg-alt: #16222d;
		--ui-text: #ffffff;
		--ui-text-dim: #e2e8ee;
		--ui-accent: #5ab2ff;
		--ui-accent-alt: #ff9950;
		--ui-border: rgba(255, 255, 255, 0.22);
		--ui-card: #1e2a36;
		--ui-card-grad: linear-gradient(145deg, #273746, #1d2934);
	}
	.app-header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 0 1.25rem;
		height: 66px;
		background: linear-gradient(90deg, #121b24 0%, #152430 55%, #1e3140 100%);
		color: var(--ui-text);
		box-shadow: 0 4px 10px -3px rgba(0, 0, 0, 0.7);
	}
	.app-header .brand {
		display: flex;
		align-items: center;
		gap: 0.8rem;
	}
	.app-header .logo {
		width: 46px;
		height: 46px;
		border-radius: 14px;
		background: linear-gradient(135deg, #ff8a00, #e52e71);
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: 700;
		font-size: 19px;
		letter-spacing: 0.6px;
		box-shadow: 0 4px 12px -3px rgba(0, 0, 0, 0.6);
	}
	.app-header h1 {
		font-size: 1.26rem;
		letter-spacing: 0.55px;
		margin: 0;
		font-weight: 660;
		color: var(--ui-text);
		text-shadow: 0 1px 3px rgba(0, 0, 0, 0.55);
	}
	.app-header .variant {
		display: block;
		font-size: 0.72rem;
		margin-top: 2px;
		color: var(--ui-text-dim);
	}
	.top-nav {
		display: flex;
		gap: 0.35rem;
	}
	.top-nav a {
		position: relative;
		padding: 0.6rem 0.95rem;
		border-radius: 9px;
		color: var(--ui-text-dim);
		text-decoration: none;
		font-weight: 540;
		font-size: 0.92rem;
		letter-spacing: 0.35px;
		transition:
			background 0.25s,
			color 0.25s;
	}
	.top-nav a:hover,
	.top-nav a.active {
		background: rgba(255, 255, 255, 0.18);
		color: var(--ui-text);
	}
	.top-nav a:focus-visible {
		outline: 2px solid var(--ui-accent);
		outline-offset: 3px;
		box-shadow: 0 0 0 3px rgba(90, 178, 255, 0.3);
	}
	.top-nav .shortcuts-btn { background: rgba(255,255,255,0.15); color: var(--ui-text); border:1px solid var(--ui-border); border-radius:9px; padding:0.55rem 0.75rem; font-weight:600; cursor:pointer; }
	.top-nav .shortcuts-btn:hover { background: rgba(255,255,255,0.25); }
	.top-nav .shortcuts-btn:focus-visible { outline:2px solid var(--ui-accent); outline-offset:3px; }
	.header-actions {
		display: flex;
		align-items: center;
		gap: 0.6rem;
	}
	.layout {
		min-height: calc(100vh - 66px);
		background: linear-gradient(150deg, #0f181f 0%, #132330 55%, #162d3c 100%);
	}
	.main-view {
		padding: 1.4rem 1.75rem;
		overflow: auto;
		color: var(--ui-text);
		font-size: 1.02rem;
		line-height: 1.6;
		max-width: 1220px;
		margin: 0 auto;
	}
	.shortcuts {
		font-size: 0.8rem;
		opacity: 0.9;
		margin: 0 0 12px;
		color: var(--ui-text-dim);
		background: rgba(255, 255, 255, 0.08);
		display: inline-block;
		padding: 4px 8px;
		border-radius: 6px;
		border: 1px solid var(--ui-border);
	}
	.main-view ::ng-deep mat-card {
		border-radius: 22px;
		background: var(--ui-card-grad);
		border: 1px solid var(--ui-border);
		box-shadow: 0 8px 26px -8px rgba(0, 0, 0, 0.7);
		color: var(--ui-text);
	}
	.main-view ::ng-deep mat-card h2 {
		font-weight: 650;
		letter-spacing: 0.52px;
		margin-top: 0;
		color: var(--ui-text);
	}
	.main-view ::ng-deep p {
		color: var(--ui-text);
	}
	.main-view ::ng-deep table {
		font-size: 0.86rem;
	}
	.main-view ::ng-deep button {
		font-size: 0.8rem;
		font-weight: 520;
	}
	.main-view ::ng-deep .explanation {
		background: #243746;
		border-left: 4px solid var(--ui-accent);
		color: var(--ui-text);
	}
	.main-view ::ng-deep .hint-text {
		color: var(--ui-text-dim);
	}
	.vh {
		position: absolute;
		left: -10000px;
		top: auto;
		width: 1px;
		height: 1px;
		overflow: hidden;
	}
	.skip-link { position:absolute; left:-999px; top:4px; background:#ffffff; color:#000; padding:8px 12px; border-radius:4px; font-weight:600; z-index:1000; box-shadow:0 2px 6px rgba(0,0,0,.4); }
	.skip-link:focus { left:8px; outline:3px solid var(--ui-accent); }
	@media (max-width: 900px) {
		.shortcuts {
			display: block;
		}
	}
</style>
